{"componentChunkName":"component---src-templates-post-index-js","path":"/2018/03/wraparound-progress-bar/","result":{"data":{"markdownRemark":{"id":"00162ef7-6c4c-5526-a06c-0b6e5db620db","html":"<p>A progress bar only at the top of the page is boring. Really boring. Everyone does it because <code>progress</code> is already a native HTML element. I wanted to build something that was made specifically for longer pages with a lot of content. I also wanted to add some style to the page where the content is being framed as you scroll. So I built a wraparound progress bar.</p>\n<div class=\"flex-vid\">\n  <iframe height=\"575\" scrolling=\"no\" title=\"Wraparound Progress Bar\" src=\"//codepen.io/thomasvaeth/embed/XZQWMW/?height=265&theme-id=0&default-tab=result&embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\"></iframe>\n</div>\n<hr/>\n<h2>The Setup</h2>\n<pre><code>&#x3C;div class=\"progress-top\">&#x3C;/div>\n&#x3C;div class=\"progress-right\">&#x3C;/div>\n&#x3C;div class=\"progress-bottom\">&#x3C;/div>\n&#x3C;div class=\"progress-left\">&#x3C;/div>\n</code></pre>\n<pre><code>$color-progress: #ffc769;\n$progress: 0.35em;\n\n.progress-top,\n.progress-right,\n.progress-bottom,\n.progress-left {\n  position: fixed;\n  z-index: 999;\n\n  background-color: $color-progress;\n}\n\n.progress-top,\n.progress-bottom {\n  height: $progress;\n}\n\n.progress-right,\n.progress-left {\n  width: $progress;\n}\n\n.progress-top,\n.progress-right {\n  top: 0;\n}\n\n.progress-top,\n.progress-left {\n  left: 0;\n}\n\n.progress-bottom,\n.progress-left {\n  bottom: 0;\n}\n\n.progress-bottom,\n.progress-right {\n  right: 0;\n}\n</code></pre>\n<hr/>\n<h2>The Script</h2>\n<pre><code>const ProgressScroll = (() => {\n  let s;\n\n  return {\n    settings() {\n      return {\n        top: $('.progress-top'),\n        right: $('.progress-right'),\n        bottom: $('.progress-bottom'),\n        left: $('.progress-left'),\n        windowHeight: $(window).height(),\n        windowWidth: $(window).width(),\n        scrollHeight: $(document).height() - $(window).height(),\n        progressTotal: $(window).height() * 2 + $(window).width() * 2,\n        scrollPosition: $(document).scrollTop()\n      };\n    },\n\n    init() {\n      s = this.settings();\n      this.bindEvents();\n    },\n\n    bindEvents() {\n      $(window).on('scroll', this.onScroll);\n      $(window).on('resize', this.onResize);\n\n      this.progress();\n    },\n\n    onScroll() {\n      s.scrollPosition = $(document).scrollTop();\n\n      ProgressScroll.requestTick();\n    },\n\n    onResize() {\n      s.windowHeight = $(window).height();\n      s.windowWidth = $(window).width();\n      s.scrollHeight = $(document).height() - s.windowHeight;\n      s.progressTotal = s.windowHeight * 2 + s.windowWidth * 2;\n\n      ProgressScroll.requestTick();\n    },\n\n    requestTick() {\n      requestAnimationFrame(this.progress);\n    },\n\n    progress() {\n      const percentage = s.scrollPosition / s.scrollHeight;\n      const width = s.windowWidth / s.progressTotal;\n      const height = s.windowHeight / s.progressTotal;\n\n      s.top.css('width', `${(percentage / width) * 100}%`);\n      s.right.css('height', `${((percentage - width) / height) * 100}%`);\n      s.bottom.css('width', `${((percentage - width - height) / width) * 100}%`);\n      s.left.css('height', `${((percentage - width - height - width) / height) * 100}%`);\n    }\n  };\n})();\n\nProgressScroll.init();\n</code></pre>\n<p>I know. It uses jQuery. I originally wrote the script in vanilla JavaScript, but the styling would not always reach 100% for each <code>div</code> depending on the scroll speed. This would sometimes leave gaps in between the progress bar since it really is four separate elements.</p>","frontmatter":{"title":"Wraparound Progress Bar","description":"","date":"March 2018","image":{"id":"28d7e7d2-00e8-5617-9f37-9ea02a7b746e","publicURL":"/static/wraparound-progress-bar-86245fd73ccfab06b409fc4e0cd93865.jpg"}},"fields":{"slug":"/2018/03/wraparound-progress-bar/"}}},"pageContext":{"slug":"/2018/03/wraparound-progress-bar/"}}}